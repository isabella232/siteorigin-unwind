/*--------------------------------------------------------------
### Portfolio Loop
--------------------------------------------------------------*/
.portfolio-filter-terms {
	padding-bottom: 25px;

	button {
		border: none;
		border-bottom: 2px solid transparent;
		color: $color__text-light;
		font-size: 12px;
		letter-spacing: 1px;
		padding: 0 0 12px 0;
		margin-right: 34px;

		@media (max-width: 768px) {
			padding: 0 0 5px 0;
			margin: 0 10px 5px 0; 
		}

		&:hover {
			color: $color__text-dark;
		}

		&.active {
			background: none;
			border-bottom: 2px solid $color__text-dark;
			color: $color__text-dark;
		}
	}
}

#projects-container,
.portfolio-archive-layout,
.related-projects {
	margin-right: -1.1667%;
	margin-left: -1.1667%;

	@media (max-width: 640px) {
		margin-right: 0;
		margin-left: 0;
	}
}

#projects-container ~ .posts-navigation {
	padding-top: 52.5px;
}

.post-type-archive-jetpack-portfolio #infinite-handle,
.tax-jetpack-portfolio-type #infinite-handle {
	padding-top: 54.5px;
}

.post-type-archive-jetpack-portfolio .infinite-loader,
.tax-jetpack-portfolio-type .infinite-loader {
	margin-top: 54.5px;
}

.archive-project {
	float: left;
	margin-right: 1.1667%;
	margin-bottom: 30px;
	margin-left: 1.1667%;
	width: 31%;

	@media (max-width: 1175px) {
		margin-right: 0.875%;
		margin-left: 0.875%;
		width: 48.25%;
	}

	@media (max-width: 640px) {
		clear: none;
		display: block;
		margin-right: 0;
		margin-left: 0;
		width: 100%;
	}

	.entry-thumbnail {
		margin: 0;

		a {
			display: block;
			position: relative;
		}
	}

	.entry-overlay {
		height: 100%;
		left: 0;
		position: absolute;
		top: 0;
		transition: .3s;
		width: 100%;
		z-index: 0;

		@at-root .entry-thumbnail:hover .entry-overlay {
			background-color: rgba(265, 265, 265, .9);
			border: 2px solid $color__text-light;
		}
	}

	.entry-content {
		opacity: 0;
		transition: .3s;
		visibility: hidden;
		z-index: 5;

		@at-root .entry-thumbnail:hover .entry-content {
			opacity: 1;
			visibility: visible;
		}
	}

	.entry-title {
		bottom: 60%;
		color: $color__text-dark;
		font-size: 16px;
		font-weight: bold;
		margin: 0;
		position: absolute;
		text-align: center;
		width: 100%;
	}

	.entry-divider {
		border: solid $color__text-dark 1px;
		bottom: 55.5%;
		left: 50%;
		position: absolute;
		@include transform(translateX(-50%));
		width: 30px;
	}

	.entry-project-type {
		color: $color__text-light;
		font-family: $font__details;
		font-size: 12px;
		letter-spacing: 1px;
		position: absolute;
		text-align: center;
		text-transform: uppercase;
		top: 47.5%;
		width: 100%;
	}
}

.related-projects-section {
	float: left;
	padding-bottom: 41px;
	width: 100%; 

	.related-projects {
		font-size: 1em;
		text-transform: uppercase;

		article {
			float: left;
			position: relative;
			vertical-align: top;
		}
	}
}

/*--------------------------------------------------------------
### Portfolio Shortcode
--------------------------------------------------------------*/
.jetpack-portfolio-shortcode {
	display: flex;
	flex-wrap: wrap;

	.portfolio-entry {
		margin: 0 3.5% 23px 0;
		width: 100%;
	
		// One column.
		&.portfolio-entry-column-1 {
			margin-right: 0;

			@media (max-width: 768px) {
				width: 100%;
			}
		}

		// Two columns.
		&.portfolio-entry-column-2 {
			width: 48.25%;

			&:nth-child(2n+2) {
				margin-right: 0;
			}

			@media (max-width: 480px) {
				margin-right: 0;
				width: 100%;
			}
		}

		// Three columns.
		&.portfolio-entry-column-3 {
			margin-right: 3.5%;
			width: 31%;

			&:nth-child(3n+3) {
				margin-right: 0;
			}

			@media (max-width: 768px) {
				margin-right: 0;
				width: 48.25%;

				&:nth-child(2n+1) {
					margin-right: 3.5%;

					@media (max-width: 480px) {
						margin-right: 0;
					}
				}
			}

			@media (max-width: 480px) {
				width: 100%;
			}
		}

		&.portfolio-entry-column-4 {
			width: 22.375%;

			&:nth-child(4n+4) {
				margin-right: 0;
			}

			@media (max-width: 768px) {
				margin-right: 0;
				width: 48.25%;

				&:nth-child(2n+1) {
					margin-right: 3.5%;

					@media (max-width: 480px) {
						margin-right: 0;
					}
				}
			}

			@media (max-width: 480px) {
				width: 100%;
			}
		}

		&.portfolio-entry-column-5 {
			width: 17.2%;

			&:nth-child(5n+5) {
				margin-right: 0;
			}

			@media (max-width: 1024px) {
				margin-right: 0;
				width: 48.25%;

				&:nth-child(2n+1) {
					margin-right: 3.5%;

					@media (max-width: 480px) {
						margin-right: 0;
					}
				}
			}

			@media (max-width: 480px) {
				width: 100%;
			}
		}

		&.portfolio-entry-column-6 {
			width: 13.75%;

			&:nth-child(6n+6) {
				margin-right: 0;
			}

			@media (max-width: 1024px) {
				margin-right: 0;
				width: 48.25%;

				&:nth-child(2n+1) {
					margin-right: 3.5%;

					@media (max-width: 480px) {
						margin-right: 0;
					}
				}
			}

			@media (max-width: 480px) {
				width: 100%;
			}
		}
	}

	.portfolio-featured-image {
		display: block;
		line-height: 0;
		margin-bottom: 17px;

		img {
			display: block;
			margin: 0 auto;
		}
	}

	.portfolio-entry-title {
		@include font-size(1.0666);
		margin: 0;
		text-align: left;

		a {
			color: $color__text-dark;
			text-decoration: none;

			&:hover {
				color: $color__text-medium;
			}
		}

		@at-root .portfolio-entry-column-1 .portfolio-entry-title {
			@include font-size(2.1333);
			text-align: center;
		}
	}

	.portfolio-entry-meta {
		color: $color__text-light;
		font-family: $font__details;
		@include font-size(0.8);
		letter-spacing: .1em;
		line-height: normal;
		margin: 10px 0 9px;
		text-transform: uppercase;

		@media (max-width: 480px) {
			@include font-size(0.7333);
		}

		a {
			color: $color__text-light;
			text-decoration: none;

			&:hover {
				color: $color__primary-accent;
			}
		}

		@at-root .portfolio-entry-column-1 .portfolio-entry-meta {
			@include display(flex);
			@include justify-content(center);
			margin-bottom: 35px;

			.project-tags {

				&:before {
					content: '\00a0\00a0/\00a0\00a0';
					padding: 0 .4166em;
				}
			}
		}
	}
}
